{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{GoogleLogin}from'@react-oauth/google';import{jwtDecode}from\"jwt-decode\";import'./App.css';import'dotenv/config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";require('dotenv').config();function App(){const[user,setUser]=useState(null);// To store user info\nconst[videoURL,setVideoURL]=useState('');const[results,setResults]=useState([]);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState('');const API_URL=process.env.REACT_APP_API_URL||'http://localhost:8080';// Function to handle successful login\nconst handleLoginSuccess=async credentialResponse=>{try{const res=await axios.post(\"\".concat(API_URL,\"/api/auth/google\"),{token:credentialResponse.credential});const{token,user}=res.data;localStorage.setItem('authToken',token);// Store our session token\nsetUser(user);// Set user state\n}catch(err){setError(\"Authentication failed. Please try again.\");}};// Function to handle logout\nconst handleLogout=()=>{localStorage.removeItem('authToken');setUser(null);};// Function to submit video for analysis\nconst handleSubmit=async e=>{e.preventDefault();setIsLoading(true);setError('');setResults([]);try{const token=localStorage.getItem('authToken');const response=await axios.post(\"\".concat(API_URL,\"/api/analyze\"),{videoURL},{headers:{'Authorization':\"Bearer \".concat(token)}}// Send session token\n);setResults(response.data);}catch(err){const errorMessage=err.response?err.response.data.error:'Failed to connect to the server.';setError(errorMessage);}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"YouTube Comment Sentiment Analyzer\"}),user?/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-button\",children:\"Logout\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Please log in to continue\"})]}),/*#__PURE__*/_jsxs(\"main\",{children:[!user?/*#__PURE__*/_jsx(GoogleLogin,{onSuccess:handleLoginSuccess,onError:()=>setError('Login Failed')}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",user.name,\"!\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"url-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:videoURL,onChange:e=>setVideoURL(e.target.value),placeholder:\"Enter YouTube Video URL\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,children:isLoading?'Analyzing...':'Analyze'})]})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"results-container\",children:results.map((result,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"comment-card\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"comment-text\",children:[\"\\\"\",result.comment,\"\\\"\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"sentiment-text sentiment-\".concat(result.classification.toLowerCase()),children:[\"Sentiment: \",/*#__PURE__*/_jsx(\"strong\",{children:result.classification})]})]},index))})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","GoogleLogin","jwtDecode","jsx","_jsx","jsxs","_jsxs","require","config","App","user","setUser","videoURL","setVideoURL","results","setResults","isLoading","setIsLoading","error","setError","API_URL","process","env","REACT_APP_API_URL","handleLoginSuccess","credentialResponse","res","post","concat","token","credential","data","localStorage","setItem","err","handleLogout","removeItem","handleSubmit","e","preventDefault","getItem","response","headers","errorMessage","className","children","onClick","onSuccess","onError","name","onSubmit","type","value","onChange","target","placeholder","required","disabled","map","result","index","comment","classification","toLowerCase"],"sources":["C:/Users/gaura/Downloads/Projects/Sentiant/sentiant-platform/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { GoogleLogin } from '@react-oauth/google';\nimport { jwtDecode } from \"jwt-decode\";\nimport './App.css';\nimport 'dotenv/config';\nrequire('dotenv').config();\nfunction App() {\n  const [user, setUser] = useState(null); // To store user info\n  const [videoURL, setVideoURL] = useState('');\n  const [results, setResults] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080';\n  // Function to handle successful login\n  const handleLoginSuccess = async (credentialResponse) => {\n    try {\n      const res = await axios.post(`${API_URL}/api/auth/google`, {\n        token: credentialResponse.credential,\n      });\n      const { token, user } = res.data;\n      localStorage.setItem('authToken', token); // Store our session token\n      setUser(user); // Set user state\n    } catch (err) {\n      setError(\"Authentication failed. Please try again.\");\n    }\n  };\n\n  // Function to handle logout\n  const handleLogout = () => {\n    localStorage.removeItem('authToken');\n    setUser(null);\n  };\n\n  // Function to submit video for analysis\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError('');\n    setResults([]);\n\n    try {\n      const token = localStorage.getItem('authToken');\n      const response = await axios.post(`${API_URL}/api/analyze`, \n        { videoURL },\n        { headers: { 'Authorization': `Bearer ${token}` } } // Send session token\n      );\n      setResults(response.data);\n    } catch (err) {\n      const errorMessage = err.response ? err.response.data.error : 'Failed to connect to the server.';\n      setError(errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>YouTube Comment Sentiment Analyzer</h1>\n        {user ? (\n          <button onClick={handleLogout} className=\"logout-button\">Logout</button>\n        ) : (\n          <p>Please log in to continue</p>\n        )}\n      </header>\n      <main>\n        {!user ? (\n          <GoogleLogin\n            onSuccess={handleLoginSuccess}\n            onError={() => setError('Login Failed')}\n          />\n        ) : (\n          <div>\n            <h2>Welcome, {user.name}!</h2>\n            <form onSubmit={handleSubmit} className=\"url-form\">\n              <input\n                type=\"text\"\n                value={videoURL}\n                onChange={(e) => setVideoURL(e.target.value)}\n                placeholder=\"Enter YouTube Video URL\"\n                required\n              />\n              <button type=\"submit\" disabled={isLoading}>\n                {isLoading ? 'Analyzing...' : 'Analyze'}\n              </button>\n            </form>\n          </div>\n        )}\n\n        {error && <p className=\"error-message\">{error}</p>}\n\n        <div className=\"results-container\">\n          {results.map((result, index) => (\n            <div key={index} className=\"comment-card\">\n              <p className=\"comment-text\">\"{result.comment}\"</p>\n              <p className={`sentiment-text sentiment-${result.classification.toLowerCase()}`}>\n                Sentiment: <strong>{result.classification}</strong>\n              </p>\n            </div>\n          ))}\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}